"use strict";$(window).on("load",(function(){new Swiper(".breadcrumbs__container",{freeMode:!0,slidesPerView:"auto",watchOverflow:!0,breakpoints:{1280:{freeMode:!0,slidesPerView:"auto",allowTouchMove:!1}}})})),function(){var t=$(".device-details__tab");t.click((function(){$(this).hasClass("active")||(t.removeClass("active"),$(this).addClass("active"))}))}(),function(){var t=new Swiper(".gallery__slider-container",{slidesPerView:1,pagination:{el:".gallery__slider-pagination",dynamicBullets:!0},breakpoints:{768:{slidesPerView:3.5,spaceBetween:15,navigation:{nextEl:".gallery__slider-next",prevEl:".gallery__slider-prev"},pagination:{el:null}},1280:{slidesPerView:4,spaceBetween:15,navigation:{nextEl:".gallery__slider-next",prevEl:".gallery__slider-prev"},pagination:{el:null}}}}),e=$(".gallery .swiper-slide"),s=$(".gallery__big-img  img");e.click((function(){if(!$(this).hasClass("active")){e.removeClass("active"),$(this).addClass("active");var i=$(this).children("img").attr("src"),o=$(this).children("img").attr("alt");s.attr("src",i),s.attr("alt",o);var l=$(this).parents(".gallery__slider-container"),a=$(this).offset().left-l.offset().left;l.width()-a-$(this).width()<$(this).width()&&t.slideNext(),a<$(this).width()&&t.slidePrev()}}))}(),function(){var t=$(".payment-card__payment-about"),e=$(".payment-card__desc-link");function s(t){var e=$(t.currentTarget).attr("href"),s=$(e).offset().top-50;$("html, body").animate({scrollTop:s},400)}t.on("click",s),e.on("click",s)}(),function(){var t=$(".device-chars__square-btn");t.click((function(){$(this).hasClass("active")||(t.removeClass("active"),$(this).addClass("active"))}))}(),function(){var t=$(".device-details__about-btn"),e=$(".tooltip__close");function s(t){return t.offset().top-window.scrollY}function i(t){return window.scrollY+$(window).outerHeight()-t.offset().top-t.outerHeight()}function o(){$(".tooltip.js-show").each((function(){var t;s($(this))<0&&i(t=$(this))-t.outerHeight()-50>0&&($(this).removeClass("top"),$(this).addClass("bottom")),i($(this))<0&&function(t){return s(t)-t.outerHeight()-50}($(this))>0&&($(this).removeClass("bottom"),$(this).addClass("top"))}))}t.on("click",(function(){$(this).next().addClass("js-show"),$(".tooltip__blackout").addClass("js-show"),$("body").addClass("js__body-no-scroll-mobile"),o()})),e.on("click",(function(){var t=$(this).parent();t.removeClass("js-show"),setTimeout((function(){t.removeClass("bottom top")}),300),$(".tooltip__blackout").removeClass("js-show"),$("body").removeClass("js__body-no-scroll-mobile")})),$(".tooltip__blackout").on("click",(function(){$(this).removeClass("js-show"),$(".tooltip.js-show").removeClass("js-show"),$("body").removeClass("js__body-no-scroll-mobile")})),$(window).on("scroll",(function(){o()})),$(document).on("mouseup",(function(t){var e=$(t.target);e.is(".tooltip")||0!==e.parents(".tooltip").length||e.is(".device-details__about-btn")||$(".tooltip.js-show").removeClass("js-show")}))}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsImJyZWFkY3J1bWJzLmpzIiwiZGV2aWNlLXRhYnMuanMiLCJnYWxsZXJ5LmpzIiwic2Nyb2xsLmpzIiwic3F1YXJlLWJ0bnMuanMiLCJ0b29sdGlwLmpzIl0sIm5hbWVzIjpbIiQiLCJ3aW5kb3ciLCJvbiIsIlN3aXBlciIsImZyZWVNb2RlIiwic2xpZGVzUGVyVmlldyIsIndhdGNoT3ZlcmZsb3ciLCJicmVha3BvaW50cyIsIjEyODAiLCJhbGxvd1RvdWNoTW92ZSIsIiR0YWJzIiwiY2xpY2siLCJ0aGlzIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwic3dpcGVyIiwicGFnaW5hdGlvbiIsImVsIiwiZHluYW1pY0J1bGxldHMiLCI3NjgiLCJzcGFjZUJldHdlZW4iLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwiJHNsaWRlIiwiJGJpZ0ltZyIsInNyYyIsImNoaWxkcmVuIiwiYXR0ciIsImFsdCIsIiRjb250YWluZXIiLCJwYXJlbnRzIiwibGVmdFBvc2l0aW9uIiwib2Zmc2V0IiwibGVmdCIsIndpZHRoIiwic2xpZGVOZXh0Iiwic2xpZGVQcmV2IiwiJGxpbmtQYXltZW50IiwiJGxpbmtBYm91dCIsIm9uTGlua0NsaWNrIiwiZSIsImVsZW1lbnRDbGljayIsImN1cnJlbnRUYXJnZXQiLCJkZXN0aW5hdGlvbiIsInRvcCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCIkYnRucyIsIiRhYm91dEJ0biIsIiRjbG9zZSIsImdldFRvcFBvc2l0aW9uIiwiJGVsIiwic2Nyb2xsWSIsImdldEJvdHRvbVBvc2l0aW9uIiwib3V0ZXJIZWlnaHQiLCJzZXRUb29sdGlwUG9zaXRpb24iLCJlYWNoIiwiZ2V0UG9zc2libGVUb3BQb3NpdGlvbiIsIm5leHQiLCIkdG9vbHRpcCIsInBhcmVudCIsInNldFRpbWVvdXQiLCJkb2N1bWVudCIsIiR0YXJnZXQiLCJ0YXJnZXQiLCJpcyIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFB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QUcsQ0FBQTNELEVBQUFZLE9BQUEsSUFFQVosRUFBQVksTUFBQUUsWUFBQSxVQUNBZCxFQUFBWSxNQUFBRyxTQUFBLFdBS0FtQyxFQUFBaEQsR0FBQSxTQUFBLFdBQ0FGLEVBQUFZLE1BQUFnRCxPQUFBN0MsU0FBQSxXQUNBZixFQUFBLHNCQUFBZSxTQUFBLFdBQ0FmLEVBQUEsUUFBQWUsU0FBQSw2QkFFQTBDLE9BR0FOLEVBQUFqRCxHQUFBLFNBQUEsV0FDQSxJQUFBMkQsRUFBQTdELEVBQUFZLE1BQUFrRCxTQUNBRCxFQUFBL0MsWUFBQSxXQUVBaUQsWUFBQSxXQUNBRixFQUFBL0MsWUFBQSxnQkFDQSxLQUVBZCxFQUFBLHNCQUFBYyxZQUFBLFdBQ0FkLEVBQUEsUUFBQWMsWUFBQSxnQ0FHQWQsRUFBQSxzQkFBQUUsR0FBQSxTQUFBLFdBQ0FGLEVBQUFZLE1BQUFFLFlBQUEsV0FDQWQsRUFBQSxvQkFBQWMsWUFBQSxXQUNBZCxFQUFBLFFBQUFjLFlBQUEsZ0NBR0FkLEVBQUFDLFFBQUFDLEdBQUEsVUFBQSxXQUNBdUQsT0FHQXpELEVBQUFnRSxVQUFBOUQsR0FBQSxXQUFBLFNBQUF3QyxHQUNBLElBQUF1QixFQUFBakUsRUFBQTBDLEVBQUF3QixRQUVBRCxFQUFBRSxHQUFBLGFBQ0EsSUFBQUYsRUFBQWpDLFFBQUEsWUFBQW9DLFFBQ0FILEVBQUFFLEdBQUEsK0JBRUFuRSxFQUFBLG9CQUFBYyxZQUFBLGNBN0VBIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uICgpIHtcbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuYnJlYWRjcnVtYnNfX2NvbnRhaW5lcicsIHtcbiAgICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgICAgd2F0Y2hPdmVyZmxvdzogdHJ1ZSxcbiAgICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgIDEyODA6IHtcbiAgICAgICAgICBmcmVlTW9kZTogdHJ1ZSxcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICAgICAgYWxsb3dUb3VjaE1vdmU6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICB2YXIgJHRhYnMgPSAkKCcuZGV2aWNlLWRldGFpbHNfX3RhYicpO1xuICAkdGFicy5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgJHRhYnMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuZ2FsbGVyeV9fc2xpZGVyLWNvbnRhaW5lcicsIHtcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiAnLmdhbGxlcnlfX3NsaWRlci1wYWdpbmF0aW9uJyxcbiAgICAgIGR5bmFtaWNCdWxsZXRzOiB0cnVlXG4gICAgfSxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgNzY4OiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDMuNSxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAxNSxcbiAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgIG5leHRFbDogJy5nYWxsZXJ5X19zbGlkZXItbmV4dCcsXG4gICAgICAgICAgcHJldkVsOiAnLmdhbGxlcnlfX3NsaWRlci1wcmV2J1xuICAgICAgICB9LFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgZWw6IG51bGxcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIDEyODA6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAxNSxcbiAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgIG5leHRFbDogJy5nYWxsZXJ5X19zbGlkZXItbmV4dCcsXG4gICAgICAgICAgcHJldkVsOiAnLmdhbGxlcnlfX3NsaWRlci1wcmV2J1xuICAgICAgICB9LFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgZWw6IG51bGxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHZhciAkc2xpZGUgPSAkKCcuZ2FsbGVyeSAuc3dpcGVyLXNsaWRlJyk7XG4gIHZhciAkYmlnSW1nID0gJCgnLmdhbGxlcnlfX2JpZy1pbWcgIGltZycpO1xuICAkc2xpZGUuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICRzbGlkZS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIHZhciBzcmMgPSAkKHRoaXMpLmNoaWxkcmVuKCdpbWcnKS5hdHRyKCdzcmMnKTtcbiAgICAgIHZhciBhbHQgPSAkKHRoaXMpLmNoaWxkcmVuKCdpbWcnKS5hdHRyKCdhbHQnKTtcbiAgICAgICRiaWdJbWcuYXR0cignc3JjJywgc3JjKTtcbiAgICAgICRiaWdJbWcuYXR0cignYWx0JywgYWx0KTtcbiAgICAgIHZhciAkY29udGFpbmVyID0gJCh0aGlzKS5wYXJlbnRzKCcuZ2FsbGVyeV9fc2xpZGVyLWNvbnRhaW5lcicpO1xuICAgICAgdmFyIGxlZnRQb3NpdGlvbiA9ICQodGhpcykub2Zmc2V0KCkubGVmdCAtICRjb250YWluZXIub2Zmc2V0KCkubGVmdDtcbiAgICAgIHZhciByaWdodFBvc2l0aW9uID0gJGNvbnRhaW5lci53aWR0aCgpIC0gbGVmdFBvc2l0aW9uIC0gJCh0aGlzKS53aWR0aCgpO1xuXG4gICAgICBpZiAocmlnaHRQb3NpdGlvbiA8ICQodGhpcykud2lkdGgoKSkge1xuICAgICAgICBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChsZWZ0UG9zaXRpb24gPCAkKHRoaXMpLndpZHRoKCkpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICB2YXIgJGxpbmtQYXltZW50ID0gJCgnLnBheW1lbnQtY2FyZF9fcGF5bWVudC1hYm91dCcpO1xuICB2YXIgJGxpbmtBYm91dCA9ICQoJy5wYXltZW50LWNhcmRfX2Rlc2MtbGluaycpO1xuXG4gIGZ1bmN0aW9uIG9uTGlua0NsaWNrKGUpIHtcbiAgICB2YXIgJGVsID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHZhciBlbGVtZW50Q2xpY2sgPSAkZWwuYXR0cignaHJlZicpO1xuICAgIHZhciBkZXN0aW5hdGlvbiA9ICQoZWxlbWVudENsaWNrKS5vZmZzZXQoKS50b3AgLSA1MDtcbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6IGRlc3RpbmF0aW9uXG4gICAgfSwgNDAwKTtcbiAgfVxuXG4gICRsaW5rUGF5bWVudC5vbignY2xpY2snLCBvbkxpbmtDbGljayk7XG4gICRsaW5rQWJvdXQub24oJ2NsaWNrJywgb25MaW5rQ2xpY2spO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdmFyICRidG5zID0gJCgnLmRldmljZS1jaGFyc19fc3F1YXJlLWJ0bicpO1xuICAkYnRucy5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgJGJ0bnMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciAkYWJvdXRCdG4gPSAkKCcuZGV2aWNlLWRldGFpbHNfX2Fib3V0LWJ0bicpO1xuICB2YXIgJGNsb3NlID0gJCgnLnRvb2x0aXBfX2Nsb3NlJyk7XG5cbiAgZnVuY3Rpb24gZ2V0VG9wUG9zaXRpb24oJGVsKSB7XG4gICAgcmV0dXJuICRlbC5vZmZzZXQoKS50b3AgLSB3aW5kb3cuc2Nyb2xsWTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBnZXRQb3NzaWJsZVRvcFBvc2l0aW9uKCRlbCkge1xuICAgIHJldHVybiBnZXRUb3BQb3NpdGlvbigkZWwpIC0gJGVsLm91dGVySGVpZ2h0KCkgLSA1MDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJvdHRvbVBvc2l0aW9uKCRlbCkge1xuICAgIHJldHVybiB3aW5kb3cuc2Nyb2xsWSArICQod2luZG93KS5vdXRlckhlaWdodCgpIC0gJGVsLm9mZnNldCgpLnRvcCAtICRlbC5vdXRlckhlaWdodCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UG9zc2libGVCb3R0b21Qb3NpdGlvbigkZWwpIHtcbiAgICByZXR1cm4gZ2V0Qm90dG9tUG9zaXRpb24oJGVsKSAtICRlbC5vdXRlckhlaWdodCgpIC0gNTA7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRUb29sdGlwUG9zaXRpb24oKSB7XG4gICAgJCgnLnRvb2x0aXAuanMtc2hvdycpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGdldFRvcFBvc2l0aW9uKCQodGhpcykpIDwgMCAmJiBnZXRQb3NzaWJsZUJvdHRvbVBvc2l0aW9uKCQodGhpcykpID4gMCkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCd0b3AnKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYm90dG9tJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChnZXRCb3R0b21Qb3NpdGlvbigkKHRoaXMpKSA8IDAgJiYgZ2V0UG9zc2libGVUb3BQb3NpdGlvbigkKHRoaXMpKSA+IDApIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYm90dG9tJyk7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3RvcCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgJGFib3V0QnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLm5leHQoKS5hZGRDbGFzcygnanMtc2hvdycpO1xuICAgICQoJy50b29sdGlwX19ibGFja291dCcpLmFkZENsYXNzKCdqcy1zaG93Jyk7XG4gICAgJCgnYm9keScpLmFkZENsYXNzKCdqc19fYm9keS1uby1zY3JvbGwtbW9iaWxlJyk7XG4gICAgc2V0VG9vbHRpcFBvc2l0aW9uKCk7XG4gIH0pO1xuICAkY2xvc2Uub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdG9vbHRpcCA9ICQodGhpcykucGFyZW50KCk7XG4gICAgJHRvb2x0aXAucmVtb3ZlQ2xhc3MoJ2pzLXNob3cnKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICR0b29sdGlwLnJlbW92ZUNsYXNzKCdib3R0b20gdG9wJyk7XG4gICAgfSwgMzAwKTtcbiAgICAkKCcudG9vbHRpcF9fYmxhY2tvdXQnKS5yZW1vdmVDbGFzcygnanMtc2hvdycpO1xuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnanNfX2JvZHktbm8tc2Nyb2xsLW1vYmlsZScpO1xuICB9KTtcbiAgJCgnLnRvb2x0aXBfX2JsYWNrb3V0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2pzLXNob3cnKTtcbiAgICAkKCcudG9vbHRpcC5qcy1zaG93JykucmVtb3ZlQ2xhc3MoJ2pzLXNob3cnKTtcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2pzX19ib2R5LW5vLXNjcm9sbC1tb2JpbGUnKTtcbiAgfSk7XG4gICQod2luZG93KS5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgIHNldFRvb2x0aXBQb3NpdGlvbigpO1xuICB9KTtcbiAgJChkb2N1bWVudCkub24oJ21vdXNldXAnLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGFyZ2V0ID0gJChlLnRhcmdldCk7XG5cbiAgICBpZiAoISR0YXJnZXQuaXMoJy50b29sdGlwJykgJiYgJHRhcmdldC5wYXJlbnRzKCcudG9vbHRpcCcpLmxlbmd0aCA9PT0gMCAmJiAhJHRhcmdldC5pcygnLmRldmljZS1kZXRhaWxzX19hYm91dC1idG4nKSkge1xuICAgICAgJCgnLnRvb2x0aXAuanMtc2hvdycpLnJlbW92ZUNsYXNzKCdqcy1zaG93Jyk7XG4gICAgfVxuICB9KTtcbn0pKCk7IiwiKCgpID0+IHtcbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZXIoJy5icmVhZGNydW1ic19fY29udGFpbmVyJywge1xuICAgICAgZnJlZU1vZGU6IHRydWUsXG4gICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICB3YXRjaE92ZXJmbG93OiB0cnVlLFxuICAgICAgYnJlYWtwb2ludHM6IHtcblxuICAgICAgICAxMjgwOiB7XG4gICAgICAgICAgZnJlZU1vZGU6IHRydWUsXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgICAgICAgIGFsbG93VG91Y2hNb3ZlOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICBjb25zdCAkdGFicyA9ICQoJy5kZXZpY2UtZGV0YWlsc19fdGFiJyk7XG5cbiAgJHRhYnMuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgJHRhYnMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZXIoJy5nYWxsZXJ5X19zbGlkZXItY29udGFpbmVyJywge1xuICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6ICcuZ2FsbGVyeV9fc2xpZGVyLXBhZ2luYXRpb24nLFxuICAgICAgZHluYW1pY0J1bGxldHM6IHRydWUsXG4gICAgfSxcblxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICA3Njg6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMy41LFxuICAgICAgICBzcGFjZUJldHdlZW46IDE1LFxuICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgbmV4dEVsOiAnLmdhbGxlcnlfX3NsaWRlci1uZXh0JyxcbiAgICAgICAgICBwcmV2RWw6ICcuZ2FsbGVyeV9fc2xpZGVyLXByZXYnLFxuICAgICAgICB9LFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgZWw6IG51bGxcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgMTI4MDoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxuICAgICAgICBzcGFjZUJldHdlZW46IDE1LFxuICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgbmV4dEVsOiAnLmdhbGxlcnlfX3NsaWRlci1uZXh0JyxcbiAgICAgICAgICBwcmV2RWw6ICcuZ2FsbGVyeV9fc2xpZGVyLXByZXYnLFxuICAgICAgICB9LFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgZWw6IG51bGxcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0ICRzbGlkZSA9ICQoJy5nYWxsZXJ5IC5zd2lwZXItc2xpZGUnKTtcbiAgY29uc3QgJGJpZ0ltZyA9ICQoJy5nYWxsZXJ5X19iaWctaW1nICBpbWcnKTtcblxuICAkc2xpZGUuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgJHNsaWRlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICBjb25zdCBzcmMgPSAkKHRoaXMpLmNoaWxkcmVuKCdpbWcnKS5hdHRyKCdzcmMnKTtcbiAgICAgIGNvbnN0IGFsdCA9ICQodGhpcykuY2hpbGRyZW4oJ2ltZycpLmF0dHIoJ2FsdCcpO1xuXG4gICAgICAkYmlnSW1nLmF0dHIoJ3NyYycsIHNyYyk7XG4gICAgICAkYmlnSW1nLmF0dHIoJ2FsdCcsIGFsdCk7XG5cblxuICAgICAgY29uc3QgJGNvbnRhaW5lciA9ICQodGhpcylcbiAgICAgICAgLnBhcmVudHMoJy5nYWxsZXJ5X19zbGlkZXItY29udGFpbmVyJyk7XG5cbiAgICAgIGNvbnN0IGxlZnRQb3NpdGlvbiA9ICQodGhpcykub2Zmc2V0KCkubGVmdFxuICAgICAgICAtICRjb250YWluZXIub2Zmc2V0KCkubGVmdDtcblxuICAgICAgY29uc3QgcmlnaHRQb3NpdGlvbiA9ICRjb250YWluZXIud2lkdGgoKVxuICAgICAgICAtIGxlZnRQb3NpdGlvblxuICAgICAgICAtICQodGhpcykud2lkdGgoKTtcblxuICAgICAgaWYgKHJpZ2h0UG9zaXRpb24gPCAkKHRoaXMpLndpZHRoKCkpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGVmdFBvc2l0aW9uIDwgJCh0aGlzKS53aWR0aCgpKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVByZXYoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgY29uc3QgJGxpbmtQYXltZW50ID0gJCgnLnBheW1lbnQtY2FyZF9fcGF5bWVudC1hYm91dCcpO1xuICBjb25zdCAkbGlua0Fib3V0ID0gJCgnLnBheW1lbnQtY2FyZF9fZGVzYy1saW5rJyk7XG5cbiAgZnVuY3Rpb24gb25MaW5rQ2xpY2soZSkge1xuICAgIGNvbnN0ICRlbCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBjb25zdCBlbGVtZW50Q2xpY2sgPSAkZWwuYXR0cignaHJlZicpO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gJChlbGVtZW50Q2xpY2spLm9mZnNldCgpLnRvcCAtIDUwO1xuICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6IGRlc3RpbmF0aW9ufSwgNDAwKTtcbiAgfVxuXG4gICRsaW5rUGF5bWVudC5vbignY2xpY2snLCBvbkxpbmtDbGljayk7XG4gICRsaW5rQWJvdXQub24oJ2NsaWNrJywgb25MaW5rQ2xpY2spO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgY29uc3QgJGJ0bnMgPSAkKCcuZGV2aWNlLWNoYXJzX19zcXVhcmUtYnRuJyk7XG5cbiAgJGJ0bnMuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgJGJ0bnMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gIGNvbnN0ICRhYm91dEJ0biA9ICQoJy5kZXZpY2UtZGV0YWlsc19fYWJvdXQtYnRuJyk7XG4gIGNvbnN0ICRjbG9zZSA9ICQoJy50b29sdGlwX19jbG9zZScpO1xuXG4gIGZ1bmN0aW9uIGdldFRvcFBvc2l0aW9uKCRlbCkge1xuICAgIHJldHVybiAkZWwub2Zmc2V0KCkudG9wIC0gd2luZG93LnNjcm9sbFk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0UG9zc2libGVUb3BQb3NpdGlvbigkZWwpIHtcbiAgICByZXR1cm4gZ2V0VG9wUG9zaXRpb24oJGVsKSAtICRlbC5vdXRlckhlaWdodCgpIC0gNTA7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCb3R0b21Qb3NpdGlvbigkZWwpIHtcbiAgICByZXR1cm4gd2luZG93LnNjcm9sbFkgKyAkKHdpbmRvdykub3V0ZXJIZWlnaHQoKSAtICRlbC5vZmZzZXQoKS50b3AgLSAkZWwub3V0ZXJIZWlnaHQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBvc3NpYmxlQm90dG9tUG9zaXRpb24oJGVsKSB7XG4gICAgcmV0dXJuIGdldEJvdHRvbVBvc2l0aW9uKCRlbCkgLSAkZWwub3V0ZXJIZWlnaHQoKSAtIDUwO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VG9vbHRpcFBvc2l0aW9uKCkge1xuICAgICQoJy50b29sdGlwLmpzLXNob3cnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKFxuICAgICAgICBnZXRUb3BQb3NpdGlvbigkKHRoaXMpKSA8IDBcbiAgICAgICAgJiYgZ2V0UG9zc2libGVCb3R0b21Qb3NpdGlvbigkKHRoaXMpKSA+IDBcbiAgICAgICkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCd0b3AnKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYm90dG9tJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgZ2V0Qm90dG9tUG9zaXRpb24oJCh0aGlzKSkgPCAwXG4gICAgICAgICYmIGdldFBvc3NpYmxlVG9wUG9zaXRpb24oJCh0aGlzKSkgPiAwXG4gICAgICApIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYm90dG9tJyk7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3RvcCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgJGFib3V0QnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykubmV4dCgpLmFkZENsYXNzKCdqcy1zaG93Jyk7XG4gICAgJCgnLnRvb2x0aXBfX2JsYWNrb3V0JykuYWRkQ2xhc3MoJ2pzLXNob3cnKTtcbiAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ2pzX19ib2R5LW5vLXNjcm9sbC1tb2JpbGUnKTtcblxuICAgIHNldFRvb2x0aXBQb3NpdGlvbigpO1xuICB9KTtcblxuICAkY2xvc2Uub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgJHRvb2x0aXAgPSAkKHRoaXMpLnBhcmVudCgpO1xuICAgICR0b29sdGlwLnJlbW92ZUNsYXNzKCdqcy1zaG93Jyk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgJHRvb2x0aXAucmVtb3ZlQ2xhc3MoJ2JvdHRvbSB0b3AnKTtcbiAgICB9LCAzMDApO1xuXG4gICAgJCgnLnRvb2x0aXBfX2JsYWNrb3V0JykucmVtb3ZlQ2xhc3MoJ2pzLXNob3cnKTtcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2pzX19ib2R5LW5vLXNjcm9sbC1tb2JpbGUnKTtcbiAgfSk7XG5cbiAgJCgnLnRvb2x0aXBfX2JsYWNrb3V0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnanMtc2hvdycpO1xuICAgICQoJy50b29sdGlwLmpzLXNob3cnKS5yZW1vdmVDbGFzcygnanMtc2hvdycpO1xuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnanNfX2JvZHktbm8tc2Nyb2xsLW1vYmlsZScpO1xuICB9KTtcblxuICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xuICAgIHNldFRvb2x0aXBQb3NpdGlvbigpO1xuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbignbW91c2V1cCcsIGZ1bmN0aW9uKGUpIHtcbiAgICBjb25zdCAkdGFyZ2V0ID0gJChlLnRhcmdldCk7XG4gICAgaWYgKFxuICAgICAgISR0YXJnZXQuaXMoJy50b29sdGlwJylcbiAgICAgICYmICR0YXJnZXQucGFyZW50cygnLnRvb2x0aXAnKS5sZW5ndGggPT09IDBcbiAgICAgICYmICEkdGFyZ2V0LmlzKCcuZGV2aWNlLWRldGFpbHNfX2Fib3V0LWJ0bicpXG4gICAgKSB7XG4gICAgICAkKCcudG9vbHRpcC5qcy1zaG93JykucmVtb3ZlQ2xhc3MoJ2pzLXNob3cnKTtcbiAgICB9XG4gIH0pO1xufSkoKTtcbiJdfQ==
